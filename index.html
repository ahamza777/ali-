<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ALI GENERAL STORE</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Segoe UI,sans-serif;background:#f4f6f8;padding-bottom:90px}

/* HEADER */
header{
  position:sticky;top:0;
  background:#1b5e20;color:#fff;
  padding:15px;text-align:center;
  box-shadow:0 4px 18px rgba(0,0,0,.35);
  position:relative;
}
header::after{
  content:"";
  position:absolute;
  left:0;right:0;bottom:0;height:3px;
  background:linear-gradient(90deg,#00e676,#66bb6a,#00e676);
  background-size:200% 100%;
  animation:headerGlow 3s linear infinite;
}
@keyframes headerGlow{
  0%{background-position:0%}
  100%{background-position:200%}
}

.cart-count{
  position:absolute;right:20px;top:15px;
  background:red;color:#fff;
  padding:6px 12px;border-radius:50%;
  cursor:pointer;
  animation:pulse 1.6s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(255,0,0,.6)}
  70%{box-shadow:0 0 0 18px rgba(255,0,0,0)}
  100%{box-shadow:0 0 0 0 rgba(255,0,0,0)}
}

/* PRODUCTS */
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;padding:20px
}
.product{
  background:#fff;border-radius:14px;
  box-shadow:0 8px 20px rgba(0,0,0,.2);
  overflow:hidden;
  cursor:pointer;
  transition:.35s cubic-bezier(.4,0,.2,1);
}
.product:hover{
  transform:translateY(-10px) scale(1.03);
  box-shadow:0 20px 45px rgba(0,0,0,.4);
}
.product img{
  width:100%;height:160px;object-fit:cover;
  transition:.4s ease;
}
.product:hover img{
  transform:scale(1.1);
}
.info{text-align:center;padding:12px}

/* ADD BUTTON */
.add-btn{
  background:#4caf50;color:#fff;
  border:none;padding:10px 18px;
  border-radius:25px;cursor:pointer;
  position:relative;overflow:hidden;
  transition:.25s ease;
}
.add-btn:hover{
  background:#2e7d32;
  transform:scale(1.08);
}
.add-btn::after{
  content:"";
  position:absolute;inset:0;
  background:linear-gradient(120deg,
    transparent,
    rgba(255,255,255,.5),
    transparent);
  transform:translateX(-100%);
}
.add-btn:hover::after{
  animation:btnShine .6s;
}
@keyframes btnShine{
  to{transform:translateX(100%)}
}

/* CART PANEL */
#cartPanel{
  position:fixed;right:-350px;top:0;
  width:320px;height:100%;
  background:rgba(255,255,255,.95);
  backdrop-filter:blur(10px);
  box-shadow:-4px 0 15px rgba(0,0,0,.3);
  padding:15px;
  z-index:50;overflow-y:auto;
  transition:.4s ease;
}
#cartPanel.show{right:0}

.cart-item{
  display:flex;justify-content:space-between;
  align-items:center;margin:10px 0;font-size:14px;
  animation:cartFade .25s ease;
}
@keyframes cartFade{
  from{opacity:0;transform:translateX(40px)}
  to{opacity:1;transform:translateX(0)}
}
.total{font-weight:bold;margin-top:10px}

/* BOTTOM BAR */
#bottomBar{
  position:fixed;left:0;right:0;bottom:-100px;
  background:#1b5e20;color:#fff;
  display:flex;justify-content:space-between;
  align-items:center;padding:12px 16px;
  transition:.4s;font-weight:600;cursor:pointer;
  box-shadow:0 -6px 25px rgba(0,0,0,.45);
}
#bottomBar.show{
  bottom:0;
  animation:barBounce .5s ease;
}
@keyframes barBounce{
  0%{transform:translateY(100%)}
  60%{transform:translateY(-12%)}
  100%{transform:translateY(0)}
}

/* MODAL */
#productModal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:200;
}
#productModal .box{
  background:#fff;width:90%;max-width:500px;
  border-radius:14px;overflow:hidden;
  animation:modalPop .4s cubic-bezier(.34,1.56,.64,1);
}
@keyframes modalPop{
  from{transform:scale(.75);opacity:0}
  to{transform:scale(1);opacity:1}
}
#productModal img{
  width:100%;height:220px;object-fit:cover
}
</style>
</head>

<body>

<header>
  <h2>ALI GENERAL STORE</h2>
  <input id="searchInput" placeholder="Search products..."
   style="width:90%;margin-top:10px;padding:10px;border-radius:8px;border:none">
  <div class="cart-count" id="cartCount">0</div>
</header>

<section class="products" id="productList"></section>

<!-- MODAL -->
<div id="productModal">
 <div class="box">
  <img id="modalImg">
  <div style="padding:15px">
   <h2 id="modalName"></h2>
   <h3 id="modalPrice"></h3>
   <button id="modalAddBtn" class="add-btn" style="width:100%;margin:10px 0">Add to Cart</button>
   <button id="modalCloseBtn" style="width:100%;background:#e53935;color:#fff;border:none;padding:10px">Close</button>
  </div>
 </div>
</div>

<!-- CART -->
<div id="cartPanel">
 <h3>Your Cart</h3>
 <div id="cartItems"></div>
 <div class="total" id="cartTotal"></div>
 <button id="closeCartBtn" style="margin-top:10px;background:#e53935;color:#fff;border:none;padding:10px;width:100%">Close Cart</button>
</div>

<div id="bottomBar">
 <div id="barText">0 items | ₹0</div>
 <button>View Cart</button>
</div>

<script>
/* YOUR ORIGINAL JS — UNCHANGED */
document.addEventListener("DOMContentLoaded",()=>{

const products=[
 {name:"Soap Powder",price:120,img:"https://images.unsplash.com/photo-1581579185169-7bfe75a5d3fa"},
 {name:"Shampoo",price:180,img:"https://images.unsplash.com/photo-1607619056574-7b8d3ee536b2"},
 {name:"Milk Packet",price:60,img:"https://images.unsplash.com/photo-1585238342028-4bbc5e87fa19"}
];

let cart=[];
let currentProduct=null;

const list=productList;
const cartCount=document.getElementById("cartCount");
const cartPanel=document.getElementById("cartPanel");
const bottomBar=document.getElementById("bottomBar");
const barText=document.getElementById("barText");
const searchInput=document.getElementById("searchInput");

const productModal=document.getElementById("productModal");
const modalImg=document.getElementById("modalImg");
const modalName=document.getElementById("modalName");
const modalPrice=document.getElementById("modalPrice");
const modalAddBtn=document.getElementById("modalAddBtn");
const modalCloseBtn=document.getElementById("modalCloseBtn");

const cartItems=document.getElementById("cartItems");
const cartTotal=document.getElementById("cartTotal");
const closeCartBtn=document.getElementById("closeCartBtn");

/* PRODUCTS */
function renderProducts(filter=""){
 list.innerHTML="";
 products.filter(p=>p.name.toLowerCase().includes(filter.toLowerCase()))
 .forEach(p=>{
  const d=document.createElement("div");
  d.className="product";
  d.innerHTML=`
   <img src="${p.img}">
   <div class="info">
    <h4>${p.name}</h4>
    <p>₹${p.price}</p>
    <button class="add-btn">Add to Cart</button>
   </div>`;
  d.querySelector("button").onclick=()=>addToCart(p);
  d.querySelector("img").onclick=()=>openModal(p);
  d.querySelector("h4").onclick=()=>openModal(p);
  list.appendChild(d);
 });
}
searchInput.oninput=e=>renderProducts(e.target.value);

/* MODAL */
function openModal(p){
 currentProduct=p;
 modalImg.src=p.img;
 modalName.innerText=p.name;
 modalPrice.innerText="₹"+p.price;
 productModal.style.display="flex";
}
function closeModal(){ productModal.style.display="none"; }
modalAddBtn.onclick=()=>{ addToCart(currentProduct); closeModal(); }
modalCloseBtn.onclick=closeModal;
productModal.onclick=e=>{ if(e.target===productModal) closeModal(); }

/* CART LOGIC */
function addToCart(p){
 const item=cart.find(i=>i.name===p.name);
 item ? item.qty++ : cart.push({...p,qty:1});
 updateCart();
}

function increaseQty(i){ cart[i].qty++; updateCart(); }
function decreaseQty(i){
 if(cart[i].qty>1) cart[i].qty--;
 else cart.splice(i,1);
 updateCart();
}
function removeItem(i){ cart.splice(i,1); updateCart(); }

function updateCart(){
 const items=cart.reduce((a,b)=>a+b.qty,0);
 const total=cart.reduce((a,b)=>a+b.qty*b.price,0);
 cartCount.innerText=items;
 barText.innerText=`${items} items | ₹${total}`;
 bottomBar.classList.toggle("show",items>0);
 renderCart();
}

function renderCart(){
 cartItems.innerHTML="";
 cart.forEach((i,idx)=>{
  cartItems.innerHTML+=`
   <div class="cart-item">
    <span>${i.name}</span>
    <span>
     <button onclick="decreaseQty(${idx})">-</button>
     ${i.qty}
     <button onclick="increaseQty(${idx})">+</button>
     ₹${i.price}
     <button onclick="removeItem(${idx})" style="background:red;color:#fff;border:none">✕</button>
    </span>
   </div>`;
 });
 cartTotal.innerText="Total ₹"+cart.reduce((a,b)=>a+b.qty*b.price,0);
}

/* PANEL */
cartCount.onclick=()=>cartPanel.classList.add("show");
bottomBar.onclick=()=>cartPanel.classList.add("show");
closeCartBtn.onclick=()=>cartPanel.classList.remove("show");

/* EXPOSE */
window.increaseQty=increaseQty;
window.decreaseQty=decreaseQty;
window.removeItem=removeItem;

renderProducts();
updateCart();

});
</script>

</body>
</html>
