<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ALI GENERAL STORE PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
 --green:#1b5e20;
 --neon:#00e676;
}
*{margin:0;padding:0;box-sizing:border-box}
body{
 font-family:Segoe UI,sans-serif;
 background:linear-gradient(135deg,#0f172a,#020617);
 color:#fff;padding-bottom:110px
}

/* HEADER */
header{
 position:sticky;top:0;
 background:rgba(27,94,32,.85);
 backdrop-filter:blur(12px);
 padding:16px;text-align:center;
 box-shadow:0 10px 40px rgba(0,0,0,.6);
 z-index:10;
}
.cart-count{
 position:absolute;right:18px;top:18px;
 background:red;padding:6px 12px;border-radius:50%;
 animation:pulse 1.5s infinite;cursor:pointer
}
@keyframes pulse{
 0%{box-shadow:0 0 0 0 rgba(255,0,0,.6)}
 70%{box-shadow:0 0 0 18px rgba(255,0,0,0)}
}

/* FILTERS */
.filters{display:flex;gap:10px;overflow-x:auto;padding:10px;background:#020617}
.filters button{background:#1e293b;color:#fff;border:none;padding:8px 14px;border-radius:20px}
.filters button.active{background:var(--neon);color:#000}

/* PRODUCTS */
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;padding:20px}
.product{
 background:rgba(255,255,255,.08);
 backdrop-filter:blur(10px);
 border-radius:18px;overflow:hidden;
 box-shadow:0 15px 40px rgba(0,0,0,.6);
 transition:.4s;position:relative
}
.product:hover{transform:translateY(-12px) scale(1.04)}
.badge{position:absolute;top:10px;left:10px;background:#ff1744;padding:4px 10px;border-radius:20px;font-size:12px}
.product img{width:100%;height:160px;object-fit:cover}
.info{text-align:center;padding:12px}
.add-btn{
 background:var(--neon);color:#000;border:none;
 padding:10px 18px;border-radius:30px;
 font-weight:bold;cursor:pointer;transition:.25s
}
.add-btn:hover{transform:scale(1.1)}

/* CART PANEL + ANIMATION */
#cartPanel{
 position:fixed;right:-360px;top:0;
 width:340px;height:100%;
 background:rgba(15,23,42,.95);
 backdrop-filter:blur(14px);
 box-shadow:-6px 0 25px rgba(0,0,0,.7);
 padding:15px;
 transition:.5s cubic-bezier(.18,.89,.32,1.28);
 z-index:50;
}
#cartPanel.show{
 right:0;
 animation:cartPop .45s cubic-bezier(.34,1.56,.64,1);
}
@keyframes cartPop{
 0%{transform:scale(.9) translateX(60px);opacity:0}
 100%{transform:scale(1) translateX(0);opacity:1}
}

.cart-item{
 display:flex;justify-content:space-between;
 margin:10px 0;font-size:14px
}
.cart-item button{
 border:none;background:#1e293b;color:#fff;
 border-radius:6px;padding:2px 8px;
 cursor:pointer;transition:.2s
}
.cart-item button:hover{
 transform:scale(1.2);
 background:var(--neon);color:#000
}
.total{font-weight:bold;margin-top:10px}

/* BOTTOM BAR */
#bottomBar{
 position:fixed;left:0;right:0;bottom:-120px;
 background:linear-gradient(90deg,#1b5e20,#00e676);
 color:#000;
 display:flex;justify-content:space-between;
 align-items:center;padding:14px 18px;
 transition:.4s;font-weight:800
}
#bottomBar.show{bottom:0}

/* MODAL */
#productModal{
 position:fixed;inset:0;background:rgba(0,0,0,.7);
 display:none;align-items:center;justify-content:center;z-index:200
}
#productModal .box{
 background:#020617;width:90%;max-width:500px;
 border-radius:18px;overflow:hidden;
 animation:pop .4s cubic-bezier(.34,1.56,.64,1)
}
@keyframes pop{from{transform:scale(.7);opacity:0}}
#productModal img{width:100%;height:220px;object-fit:cover}
</style>
</head>

<body>

<header>
 <h2>ALI GENERAL STORE PRO</h2>
 <input id="searchInput" placeholder="Search..."
 style="width:90%;margin-top:10px;padding:10px;border-radius:10px;border:none">
 <div class="cart-count" id="cartCount">0</div>
</header>

<div class="filters">
 <button class="active" onclick="setCategory('all',this)">All</button>
 <button onclick="setCategory('grocery',this)">Grocery</button>
 <button onclick="setCategory('dairy',this)">Dairy</button>
 <button onclick="setCategory('snacks',this)">Snacks</button>
 <button onclick="setCategory('personal',this)">Personal Care</button>
</div>

<section class="products" id="productList"></section>

<!-- MODAL -->
<div id="productModal">
 <div class="box">
  <img id="modalImg">
  <div style="padding:15px">
   <h2 id="modalName"></h2>
   <h3 id="modalPrice"></h3>
   <button id="modalAddBtn" class="add-btn" style="width:100%">Add to Cart</button>
   <button id="modalCloseBtn" style="width:100%;margin-top:8px;background:#ff1744;color:#fff;border:none;padding:10px">Close</button>
  </div>
 </div>
</div>

<!-- CART -->
<div id="cartPanel">
 <h3>Your Cart</h3>
 <div id="cartItems"></div>
 <div class="total" id="cartTotal"></div>
 <button id="closeCartBtn" style="margin-top:10px;background:#ff1744;color:#fff;border:none;padding:10px;width:100%">Close</button>
</div>

<div id="bottomBar">
 <div id="barText">0 items | ₹0</div>
 <button>View Cart</button>
</div>

<script>
const products=[
 {name:"Soap Powder",price:120,cat:"grocery",badge:"HOT",img:"https://images.unsplash.com/photo-1581579185169-7bfe75a5d3fa"},
 {name:"Shampoo",price:180,cat:"personal",badge:"SALE",img:"https://images.unsplash.com/photo-1607619056574-7b8d3ee536b2"},
 {name:"Milk Packet",price:60,cat:"dairy",badge:"NEW",img:"https://images.unsplash.com/photo-1585238342028-4bbc5e87fa19"},
 {name:"Bread",price:45,cat:"grocery",img:"https://images.unsplash.com/photo-1549931319-a545dcf3bc73"},
 {name:"Butter",price:110,cat:"dairy",img:"https://images.unsplash.com/photo-1589987607627-616cacd2d2f1"},
 {name:"Chips",price:30,cat:"snacks",badge:"HOT",img:"https://images.unsplash.com/photo-1585238341986-5db0c38ab51c"},
 {name:"Biscuits",price:25,cat:"snacks",img:"https://images.unsplash.com/photo-1589987607891-9f1e2c6a0c5c"},
 {name:"Toothpaste",price:95,cat:"personal",img:"https://images.unsplash.com/photo-1615484477778-ca3b77940c25"},
];

let cart=JSON.parse(localStorage.getItem("cart")||"[]");
let currentCat="all",currentProduct=null;

const list=productList,cartCount=document.getElementById("cartCount");
const cartPanel=document.getElementById("cartPanel");
const bottomBar=document.getElementById("bottomBar");
const barText=document.getElementById("barText");
const searchInput=document.getElementById("searchInput");

function setCategory(c,btn){
 currentCat=c;
 document.querySelectorAll(".filters button").forEach(b=>b.classList.remove("active"));
 btn.classList.add("active");
 renderProducts();
}

function renderProducts(){
 list.innerHTML="";
 products
 .filter(p=>(currentCat==="all"||p.cat===currentCat))
 .filter(p=>p.name.toLowerCase().includes(searchInput.value.toLowerCase()))
 .forEach(p=>{
  const d=document.createElement("div");
  d.className="product";
  d.innerHTML=`
   ${p.badge?`<div class="badge">${p.badge}</div>`:""}
   <img src="${p.img}">
   <div class="info">
    <h4>${p.name}</h4>
    <p>₹${p.price}</p>
    <button class="add-btn">Add</button>
   </div>`;
  d.querySelector("button").onclick=()=>addToCart(p);
  d.querySelector("img").onclick=()=>openModal(p);
  list.appendChild(d);
 });
}

/* MODAL */
const modalImg=document.getElementById("modalImg");
const modalName=document.getElementById("modalName");
const modalPrice=document.getElementById("modalPrice");
const productModal=document.getElementById("productModal");

function openModal(p){
 currentProduct=p;
 modalImg.src=p.img;
 modalName.innerText=p.name;
 modalPrice.innerText="₹"+p.price;
 productModal.style.display="flex";
}
modalCloseBtn.onclick=()=>productModal.style.display="none";
modalAddBtn.onclick=()=>{addToCart(currentProduct);productModal.style.display="none"}

/* CART LOGIC */
function addToCart(p){
 const i=cart.find(x=>x.name===p.name);
 i?i.qty++:cart.push({...p,qty:1});
 saveCart();updateCart();
}
function increaseQty(i){
 cart[i].qty++;
 saveCart();updateCart();
}
function decreaseQty(i){
 if(cart[i].qty>1) cart[i].qty--;
 else cart.splice(i,1);
 saveCart();updateCart();
}
function removeItem(i){
 cart.splice(i,1);
 saveCart();updateCart();
}

function saveCart(){localStorage.setItem("cart",JSON.stringify(cart))}

function updateCart(){
 const items=cart.reduce((a,b)=>a+b.qty,0);
 const total=cart.reduce((a,b)=>a+b.qty*b.price,0);
 cartCount.innerText=items;
 barText.innerText=`${items} items | ₹${total}`;
 bottomBar.classList.toggle("show",items>0);
 renderCart();
}

function renderCart(){
 cartItems.innerHTML="";
 cart.forEach((i,idx)=>{
  cartItems.innerHTML+=`
   <div class="cart-item">
    <span>${i.name}</span>
    <span>
     <button onclick="decreaseQty(${idx})">-</button>
     <b style="margin:0 6px">${i.qty}</b>
     <button onclick="increaseQty(${idx})">+</button>
     ₹${i.qty*i.price}
     <button onclick="removeItem(${idx})" style="background:#ff1744;color:#fff">✕</button>
    </span>
   </div>`;
 });
 cartTotal.innerText="Total ₹"+cart.reduce((a,b)=>a+b.qty*b.price,0);
}

/* PANEL */
cartCount.onclick=()=>cartPanel.classList.add("show");
bottomBar.onclick=()=>cartPanel.classList.add("show");
closeCartBtn.onclick=()=>cartPanel.classList.remove("show");
searchInput.oninput=renderProducts;

renderProducts();updateCart();
</script>

</body>
</html>
