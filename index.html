<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ALI GENERAL STORE PRO v3</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{--neon:#00e676;--glass:rgba(255,255,255,.08)}
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:Segoe UI,sans-serif;
  background:linear-gradient(135deg,#0f172a,#020617);
  color:#fff;padding-bottom:140px
}

/* HEADER */
header{
  position:sticky;top:0;
  background:rgba(27,94,32,.9);
  backdrop-filter:blur(10px);
  padding:16px;text-align:center;z-index:10
}
.cart-count{
  position:absolute;right:18px;top:18px;
  background:red;padding:6px 12px;border-radius:50%;
  cursor:pointer;animation:pulse 1.5s infinite
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(255,0,0,.6)}
  70%{box-shadow:0 0 0 18px rgba(255,0,0,0)}
}

/* FILTERS */
.filters{
  display:flex;gap:10px;padding:10px;
  background:#020617;overflow-x:auto
}
.filters button{
  background:#1e293b;color:#fff;border:none;
  padding:8px 14px;border-radius:20px;cursor:pointer
}
.filters button.active{background:var(--neon);color:#000}

/* PRODUCTS */
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;padding:20px
}
.product{
  background:var(--glass);backdrop-filter:blur(12px);
  border-radius:18px;overflow:hidden;
  transition:.35s;cursor:pointer;
  box-shadow:0 20px 50px rgba(0,0,0,.7)
}
.product:hover{transform:translateY(-10px) scale(1.05)}
.product img{
  width:100%;height:160px;object-fit:cover;
  transition:.6s
}
.product:hover img{transform:scale(1.15)}
.info{text-align:center;padding:12px}
.add-btn{
  background:var(--neon);color:#000;border:none;
  padding:10px 18px;border-radius:30px;
  font-weight:bold;cursor:pointer
}

/* CART PANEL */
#cartPanel{
  position:fixed;right:-360px;top:0;
  width:340px;height:100%;
  background:rgba(15,23,42,.95);
  padding:15px;transition:.5s;
  box-shadow:-6px 0 25px rgba(0,0,0,.7);
  z-index:50
}
#cartPanel.show{right:0}
.cart-item{
  display:flex;justify-content:space-between;
  margin:10px 0;font-size:14px
}
.cart-item button{
  background:#1e293b;color:#fff;border:none;
  padding:2px 8px;border-radius:6px;
  cursor:pointer;margin:0 2px
}
.cart-item button:hover{
  background:var(--neon);color:#000
}

/* BOTTOM BAR */
#bottomBar{
  position:fixed;left:0;right:0;bottom:-120px;
  background:linear-gradient(90deg,#1b5e20,#00e676);
  color:#000;display:flex;
  justify-content:space-between;
  padding:14px 18px;
  transition:.4s;font-weight:800
}
#bottomBar.show{bottom:0}

/* MODALS */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.7);
  display:none;align-items:center;
  justify-content:center;z-index:200
}
.modal .box{
  background:#020617;
  width:90%;max-width:420px;
  border-radius:18px;padding:15px
}
</style>
</head>

<body>

<header>
  <h2>ALI GENERAL STORE PRO v3</h2>
  <input id="searchInput" placeholder="Search..."
   style="width:90%;margin-top:10px;padding:10px;border-radius:10px;border:none">
  <div class="cart-count" id="cartCount">0</div>
</header>

<div class="filters">
  <button class="active" onclick="setCategory('all',this)">All</button>
  <button onclick="setCategory('grocery',this)">Grocery</button>
  <button onclick="setCategory('dairy',this)">Dairy</button>
  <button onclick="setCategory('snacks',this)">Snacks</button>
</div>

<section class="products" id="productList"></section>

<!-- CART -->
<div id="cartPanel">
  <h3>Your Cart</h3>
  <div id="cartItems"></div>
  <div id="cartTotal"></div>
  <button onclick="cartPanel.classList.remove('show')" style="width:100%">Close</button>
</div>

<div id="bottomBar">
  <div id="barText">0 items | ₹0</div>
  <button onclick="cartPanel.classList.add('show')">View Cart</button>
</div>

<!-- PRODUCT DETAIL -->
<div class="modal" id="productModal">
  <div class="box">
    <img id="pdImg" style="width:100%;border-radius:12px">
    <h2 id="pdName"></h2>
    <p id="pdPrice"></p>
    <button class="add-btn" onclick="addFromDetail()" style="width:100%">Add to Cart</button>
    <button onclick="closeProduct()" style="width:100%;margin-top:6px">Close</button>
  </div>
</div>

<script>
let products=[
 {name:"Milk",price:60,cat:"dairy",img:"https://picsum.photos/400?1"},
 {name:"Chips",price:30,cat:"snacks",img:"https://picsum.photos/400?2"},
 {name:"Soap",price:45,cat:"grocery",img:"https://picsum.photos/400?3"},
 {name:"Biscuit",price:25,cat:"snacks",img:"https://picsum.photos/400?4"}
];
let cart=[],currentCat='all',selectedProduct=null;

/* PRODUCTS */
function setCategory(c,btn){
 currentCat=c;
 document.querySelectorAll('.filters button').forEach(b=>b.classList.remove('active'));
 btn.classList.add('active');
 renderProducts();
}
function renderProducts(){
 productList.innerHTML='';
 products.filter(p=>currentCat==='all'||p.cat===currentCat)
 .filter(p=>p.name.toLowerCase().includes(searchInput.value.toLowerCase()))
 .forEach(p=>{
  const d=document.createElement('div');
  d.className='product';
  d.innerHTML=`
   <img src="${p.img}">
   <div class="info">
    <h4>${p.name}</h4>
    <p>₹${p.price}</p>
    <button class="add-btn">Add</button>
   </div>`;
  d.querySelector('img').onclick=()=>openProduct(p);
  d.querySelector('button').onclick=()=>addToCart(p);
  productList.appendChild(d);
 });
}

/* PRODUCT DETAIL */
function openProduct(p){
 selectedProduct=p;
 pdImg.src=p.img;
 pdName.innerText=p.name;
 pdPrice.innerText="₹"+p.price;
 productModal.style.display='flex';
}
function closeProduct(){productModal.style.display='none'}
function addFromDetail(){addToCart(selectedProduct);closeProduct()}

/* CART */
function addToCart(p){
 let i=cart.find(x=>x.name===p.name);
 i?i.qty++:cart.push({...p,qty:1});
 updateCart();
}
function increaseQty(i){cart[i].qty++;updateCart()}
function decreaseQty(i){
 if(cart[i].qty>1)cart[i].qty--;
 else cart.splice(i,1);
 updateCart();
}
function removeItem(i){cart.splice(i,1);updateCart()}

function updateCart(){
 cartItems.innerHTML='';
 let total=0,items=0;
 cart.forEach((i,idx)=>{
  total+=i.qty*i.price;items+=i.qty;
  cartItems.innerHTML+=`
   <div class="cart-item">
    <span>${i.name}</span>
    <span>
     <button onclick="decreaseQty(${idx})">−</button>
     <b>${i.qty}</b>
     <button onclick="increaseQty(${idx})">+</button>
     ₹${i.qty*i.price}
     <button onclick="removeItem(${idx})">✕</button>
    </span>
   </div>`;
 });
 cartTotal.innerText="Total ₹"+total;
 cartCount.innerText=items;
 barText.innerText=`${items} items | ₹${total}`;
 bottomBar.classList.toggle('show',items>0);
}

/* EVENTS */
cartCount.onclick=()=>cartPanel.classList.add('show');
searchInput.oninput=renderProducts;

renderProducts();
</script>

</body>
</html>
